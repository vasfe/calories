{"version":3,"sources":["API/data.js","store.js","components/Input.js","components/Table.js","App.js","index.js"],"names":["host","endPoint","key","process","searchFood","foodItem","a","grams","query","requestURL","fetch","headers","response","status","Error","json","data","items","length","text","name","serving_size_g","calories","ADD_ENTRY","DELETE_ENTRY","SET_SEARCHING","SET_MESSAGE","setMessage","payload","type","addEntry","setSearching","initialState","entries","total","searching","message","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","state","action","toString","some","e","entryToUpdate","filter","entry","parseFloat","toFixed","applyMiddleware","thunk","container","display","alignItems","border","borderRadius","marginBottom","padding","input","fontSize","borderWidth","maxWidth","background","outline","Input","props","options","i","selectMin","selectMax","selectIncrement","push","value","style","placeholder","inputPlaceholder","inputValue","onChange","onInputChange","target","disabled","selectValue","onSelectChange","onClick","height","width","minWidth","minHeight","textAlign","Table","map","header","fontWeight","index","onDelete","footers","footer","flexDirection","justifyContent","fontFamily","margin","foodHints","getHint","Math","floor","random","App","useState","searchTerm","setSearchTerm","setGrams","hint","setHint","useSelector","dispatch","useDispatch","useEffect","setInterval","title","item","quantity","getState","searchResult","searchFoodItem","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3fc2dcb0.chunk.js","sourcesContent":["const host = 'https://api.calorieninjas.com';\r\nconst endPoint = '/v1/nutrition';\r\nconst key = process.env.REACT_APP_API_KEY\r\n\r\nexport async function searchFood(foodItem, grams = \"\") {\r\n    const query = `${grams}g ${foodItem}`\r\n    let requestURL = `${host}${endPoint}?query=${query}`;\r\n    let response = await fetch(requestURL, {\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'X-Api-Key': key\r\n        }\r\n    })\r\n    if (response.status !== 200) {\r\n        throw new Error(`Response: ${response.status}. Check Connection`)\r\n    }\r\n    const data = await response.json();\r\n    if (data.items.length === 0) {\r\n        throw new Error(`Nothing found for \"${foodItem}\"`)\r\n    }\r\n    return {\r\n        text: data.items[0].name,\r\n        grams: data.items[0].serving_size_g,\r\n        calories: data.items[0].calories\r\n    }\r\n}","import { createStore, applyMiddleware, compose } from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport { searchFood } from './API/data'\r\n\r\nconst ADD_ENTRY = \"ADD_ENTRY\"\r\nconst DELETE_ENTRY = \"DELETE_ENTRY\"\r\nconst SET_SEARCHING = \"SET_SEARCHING\"\r\nconst SET_MESSAGE = \"SET_MESSAGE\"\r\n\r\nexport function setMessage(payload) {\r\n  return { type: \"SET_MESSAGE\", payload }\r\n};\r\n\r\nexport function addEntry(payload) {\r\n  return { type: \"ADD_ENTRY\", payload }\r\n};\r\n\r\nexport function deleteEntry(payload) {\r\n  return { type: \"DELETE_ENTRY\", payload }\r\n};\r\n\r\nexport function setSearching(payload) {\r\n  return { type: \"SET_SEARCHING\", payload }\r\n};\r\n\r\nconst initialState = {\r\n  entries: [],\r\n  total: 0,\r\n  searching: false,\r\n  message: null\r\n}\r\n\r\nexport function mainReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case SET_MESSAGE:\r\n      return { ...state, message: action.payload.toString() }\r\n    case SET_SEARCHING:\r\n      return { ...state, searching: action.payload }\r\n    case ADD_ENTRY:\r\n      if (state.entries.some(e => e.text === action.payload.text)) {\r\n        const entryToUpdate = state.entries.filter((entry) => entry.text === action.payload.text)[0]\r\n        return {\r\n          ...state,\r\n          entries: [...state.entries.filter((entry) =>\r\n            entry.text !== action.payload.text),\r\n          {\r\n            text: entryToUpdate.text,\r\n            grams: entryToUpdate.grams + action.payload.grams,\r\n            calories: parseFloat((entryToUpdate.calories + action.payload.calories).toFixed(1))\r\n          }],\r\n          total: parseFloat((state.total + action.payload.calories).toFixed(1)),\r\n          message: null\r\n        }\r\n      }\r\n      else {\r\n        return {\r\n          ...state,\r\n          entries: [...state.entries, action.payload],\r\n          total: parseFloat((state.total + action.payload.calories).toFixed(1)),\r\n          message: null\r\n        }\r\n      }\r\n    case DELETE_ENTRY:\r\n      return {\r\n        ...state,\r\n        entries: state.entries.filter((entry) => entry !== action.payload),\r\n        total: parseFloat((state.total - action.payload.calories).toFixed(1))\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n};\r\n\r\nexport const searchFoodItem = (item, quantity = \"\") => async (dispatch, getState) => {\r\n  dispatch(setSearching(true))\r\n  try {\r\n    const searchResult = await searchFood(item, quantity)\r\n    dispatch(addEntry(searchResult))\r\n  }\r\n  catch (error) {\r\n    dispatch(setMessage(error.toString()))\r\n  }\r\n  dispatch(setSearching(false))\r\n}\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nexport const store = createStore(mainReducer, composeEnhancers(\r\n  applyMiddleware(thunk)\r\n));","import React from \"react\"\r\nimport { IoMdAdd } from 'react-icons/io';\r\n\r\nconst container = {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    border: \"1px solid #696969\",\r\n    borderRadius: 5,\r\n    marginBottom: 10,\r\n    padding: 5\r\n}\r\n\r\nconst input = {\r\n    fontSize: 20,\r\n    borderWidth: 0,\r\n    maxWidth: 200,\r\n    background: 'white',\r\n    outline: 'none'\r\n}\r\n\r\nconst Input = (props) => {\r\n    const options = []\r\n\r\n    for (let i = props.selectMin; i <= props.selectMax; i += props.selectIncrement) {\r\n        options.push(<option key={i} value={i}>{i}g</option>)\r\n    }\r\n\r\n    return (\r\n        <div style={container}>\r\n            <input\r\n                style={input}\r\n                type=\"search\"\r\n                placeholder={props.inputPlaceholder}\r\n                value={props.inputValue}\r\n                onChange={e => { props.onInputChange(e.target.value) }}\r\n                disabled={props.disabled}\r\n            >\r\n            </input>\r\n            <select\r\n                style={input}\r\n                value={props.selectValue}\r\n                disabled={props.disabled}\r\n                onChange={e => { props.onSelectChange(e.target.value) }}\r\n            >\r\n                {options}\r\n            </select>\r\n            <button\r\n                disabled={props.disabled}\r\n                onClick={() => props.onClick()}\r\n                style={input}\r\n            >\r\n                <IoMdAdd\r\n                    style={{ height: '100%', width: 20 }}\r\n                />\r\n            </button>\r\n        </div>\r\n    )\r\n}\r\nexport default Input;","import React from \"react\"\r\nimport { FiTrash2 } from 'react-icons/fi';\r\n\r\nconst container = {\r\n    padding: 10,\r\n    minWidth: 300,\r\n    minHeight: 50,\r\n    textAlign: 'center',\r\n    border: '1.5px dashed #696969',\r\n    borderRadius: 10\r\n}\r\n\r\nconst Table = (props) => {\r\n    return (\r\n        <table style={container}>\r\n            <thead>\r\n                {props.headers.map(header => <th style={{ fontWeight: 'normal' }}>{header}</th>)}\r\n            </thead>\r\n            <tbody>\r\n                {props.entries.map((entry, index) =>\r\n                    <tr key={index}>\r\n                        <td>\r\n                            <div style={{ fontSize: 15 }}>{entry.grams}g</div>\r\n                        </td>\r\n                        <td>\r\n                            {entry.text}\r\n                        </td>\r\n                        <td>\r\n                            {entry.calories}\r\n                        </td>\r\n                        <td>\r\n                            <FiTrash2\r\n                                onClick={() => { props.onDelete(entry) }}\r\n                            />\r\n                        </td>\r\n                    </tr>\r\n                )}\r\n                <tr>\r\n                    {props.footers.map(footer => <td>{footer}</td>)}\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    )\r\n}\r\nexport default Table;","import React, { useState, useEffect } from \"react\"\nimport { deleteEntry, searchFoodItem } from './store';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Input from './components/Input'\nimport Table from \"./components/Table\";\n\nconst container = {\n  display: 'flex',\n  flexDirection: 'column',\n  justifyContent: 'center',\n  alignItems: 'center',\n  fontFamily: \"sans-serif\",\n  fontSize: 20,\n}\n\nconst header = {\n  fontSize: 25,\n  margin: 10\n}\n\nconst foodHints = [\"Tofu\", \"Chicken\", \"Beef\", \"Salmon\", \"Cabbage\", \"Sword Fish\", \"Turtle\", \"Apple\", \"Ostrich\",]\n\nconst getHint = () => foodHints[Math.floor(Math.random() * foodHints.length)];\n\nconst App = (props) => {\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [grams, setGrams] = useState(50)\n  const [hint, setHint] = useState(getHint)\n  const entries = useSelector(state => state.entries);\n  const total = useSelector(state => state.total);\n  const message = useSelector(state => state.message);\n  const searching = useSelector(state => state.searching);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    setInterval(() => {\n      setHint(getHint())\n    }, 5000);\n  }, [])\n\n  const onClick = (entry) => {\n    dispatch(deleteEntry(entry))\n  }\n\n  return (\n    <div style={container}>\n      <div style={header}>\n        {props.title}\n      </div>\n      <Input\n        inputValue={searchTerm}\n        inputPlaceholder={`Search ${hint}`}\n        selectValue={grams}\n        selectMin={1}\n        selectMax={200}\n        selectIncrement={1}\n        disabled={searching}\n        onSelectChange={setGrams}\n        onInputChange={setSearchTerm}\n        onClick={() => {\n          dispatch(searchFoodItem(searchTerm, grams))\n          setSearchTerm(\"\")\n        }}\n      />\n      {message && <p>{message}</p>}\n      {entries.length > 0 &&\n        <Table\n          headers={[\"\", \"\", \"Calories\"]}\n          entries={entries}\n          footers={[\"\", \"Total\", total]}\n          onDelete={onClick}\n        />\n      }\n    </div>\n  )\n}\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { Provider } from 'react-redux'\nimport { store } from './store'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App title=\"Calories\"/>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}