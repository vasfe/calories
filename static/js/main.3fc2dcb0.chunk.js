(this.webpackJsonpcalories=this.webpackJsonpcalories||[]).push([[0],{31:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(7),i=n.n(c),s=n(10),o=n(5),l=n.n(o),u=n(9),d=n(14),j=n(3),b=n(11),h=n(15),p="https://api.calorieninjas.com",f="/v1/nutrition",O="RqzIwuOlBbgiz5cpsf9CUw==y6kY0twtWDhi979e";function x(e){return g.apply(this,arguments)}function g(){return g=Object(u.a)(l.a.mark((function e(t){var n,a,r,c,i,s=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:"",a="".concat(n,"g ").concat(t),r="".concat(p).concat(f,"?query=").concat(a),e.next=5,fetch(r,{headers:{"Content-Type":"application/json","X-Api-Key":O}});case 5:if(200===(c=e.sent).status){e.next=8;break}throw new Error("Response: ".concat(c.status,". Check Connection"));case 8:return e.next=10,c.json();case 10:if(0!==(i=e.sent).items.length){e.next=13;break}throw new Error('Nothing found for "'.concat(t,'"'));case 13:return e.abrupt("return",{text:i.items[0].name,grams:i.items[0].serving_size_g,calories:i.items[0].calories});case 14:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}var y="ADD_ENTRY",m="DELETE_ENTRY",v="SET_SEARCHING",E="SET_MESSAGE";function S(e){return{type:"SET_MESSAGE",payload:e}}function C(e){return{type:"ADD_ENTRY",payload:e}}function w(e){return{type:"SET_SEARCHING",payload:e}}var _={entries:[],total:0,searching:!1,message:null};var T=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||b.b,k=Object(b.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(j.a)(Object(j.a)({},e),{},{message:t.payload.toString()});case v:return Object(j.a)(Object(j.a)({},e),{},{searching:t.payload});case y:if(e.entries.some((function(e){return e.text===t.payload.text}))){var n=e.entries.filter((function(e){return e.text===t.payload.text}))[0];return Object(j.a)(Object(j.a)({},e),{},{entries:[].concat(Object(d.a)(e.entries.filter((function(e){return e.text!==t.payload.text}))),[{text:n.text,grams:n.grams+t.payload.grams,calories:parseFloat((n.calories+t.payload.calories).toFixed(1))}]),total:parseFloat((e.total+t.payload.calories).toFixed(1)),message:null})}return Object(j.a)(Object(j.a)({},e),{},{entries:[].concat(Object(d.a)(e.entries),[t.payload]),total:parseFloat((e.total+t.payload.calories).toFixed(1)),message:null});case m:return Object(j.a)(Object(j.a)({},e),{},{entries:e.entries.filter((function(e){return e!==t.payload})),total:parseFloat((e.total-t.payload.calories).toFixed(1))});default:return e}}),T(Object(b.a)(h.a))),D=n(4),I=n(17),R=n(2),F={display:"flex",alignItems:"center",border:"1px solid #696969",borderRadius:5,marginBottom:10,padding:5},M={fontSize:20,borderWidth:0,maxWidth:200,background:"white",outline:"none"},A=function(e){for(var t=[],n=e.selectMin;n<=e.selectMax;n+=e.selectIncrement)t.push(Object(R.jsxs)("option",{value:n,children:[n,"g"]},n));return Object(R.jsxs)("div",{style:F,children:[Object(R.jsx)("input",{style:M,type:"search",placeholder:e.inputPlaceholder,value:e.inputValue,onChange:function(t){e.onInputChange(t.target.value)},disabled:e.disabled}),Object(R.jsx)("select",{style:M,value:e.selectValue,disabled:e.disabled,onChange:function(t){e.onSelectChange(t.target.value)},children:t}),Object(R.jsx)("button",{disabled:e.disabled,onClick:function(){return e.onClick()},style:M,children:Object(R.jsx)(I.a,{style:{height:"100%",width:20}})})]})},N=n(18),z={padding:10,minWidth:300,minHeight:50,textAlign:"center",border:"1.5px dashed #696969",borderRadius:10},V=function(e){return Object(R.jsxs)("table",{style:z,children:[Object(R.jsx)("thead",{children:e.headers.map((function(e){return Object(R.jsx)("th",{style:{fontWeight:"normal"},children:e})}))}),Object(R.jsxs)("tbody",{children:[e.entries.map((function(t,n){return Object(R.jsxs)("tr",{children:[Object(R.jsx)("td",{children:Object(R.jsxs)("div",{style:{fontSize:15},children:[t.grams,"g"]})}),Object(R.jsx)("td",{children:t.text}),Object(R.jsx)("td",{children:t.calories}),Object(R.jsx)("td",{children:Object(R.jsx)(N.a,{onClick:function(){e.onDelete(t)}})})]},n)})),Object(R.jsx)("tr",{children:e.footers.map((function(e){return Object(R.jsx)("td",{children:e})}))})]})]})},W={display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",fontFamily:"sans-serif",fontSize:20},Y={fontSize:25,margin:10},B=["Tofu","Chicken","Beef","Salmon","Cabbage","Sword Fish","Turtle","Apple","Ostrich"],G=function(){return B[Math.floor(Math.random()*B.length)]},H=function(e){var t=Object(a.useState)(""),n=Object(s.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(50),o=Object(s.a)(i,2),d=o[0],j=o[1],b=Object(a.useState)(G),h=Object(s.a)(b,2),p=h[0],f=h[1],O=Object(D.c)((function(e){return e.entries})),g=Object(D.c)((function(e){return e.total})),y=Object(D.c)((function(e){return e.message})),m=Object(D.c)((function(e){return e.searching})),v=Object(D.b)();Object(a.useEffect)((function(){setInterval((function(){f(G())}),5e3)}),[]);return Object(R.jsxs)("div",{style:W,children:[Object(R.jsx)("div",{style:Y,children:e.title}),Object(R.jsx)(A,{inputValue:r,inputPlaceholder:"Search ".concat(p),selectValue:d,selectMin:1,selectMax:200,selectIncrement:1,disabled:m,onSelectChange:j,onInputChange:c,onClick:function(){v(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(){var n=Object(u.a)(l.a.mark((function n(a,r){var c;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(w(!0)),n.prev=1,n.next=4,x(e,t);case 4:c=n.sent,a(C(c)),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),a(S(n.t0.toString()));case 11:a(w(!1));case 12:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e,t){return n.apply(this,arguments)}}()}(r,d)),c("")}}),y&&Object(R.jsx)("p",{children:y}),O.length>0&&Object(R.jsx)(V,{headers:["","","Calories"],entries:O,footers:["","Total",g],onDelete:function(e){v({type:"DELETE_ENTRY",payload:e})}})]})};i.a.render(Object(R.jsx)(r.a.StrictMode,{children:Object(R.jsx)(D.a,{store:k,children:Object(R.jsx)(H,{title:"Calories"})})}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.3fc2dcb0.chunk.js.map